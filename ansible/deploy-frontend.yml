- name: Deploy Frontend (Next.js)
  hosts: role_frontend
  become: no

  vars:
    project_name: "{{ project_name | default('webapp') }}"
    app_dir: "/home/{{ ansible_user }}/frontend"
    frontend_port: 3000
    # Backend host - uses public IP for browser access
    backend_host: "{{ hostvars[groups['role_backend'][0]]['public_ip_address'] }}"
    backend_port: 3001

  roles:
  - role: frontend
